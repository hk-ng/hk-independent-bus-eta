"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[932],{1519:function(g,c,a){a.d(c,{Z:function(){return u}});var h=a(3366),i=a(7462),d=a(7294),j=a(6010),k=a(4780),l=a(1796),b=a(948),m=a(1657),n=a(4867),e=a(1588);function o(a){return(0,n.Z)("MuiDivider",a)}(0,e.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var p=a(5893);let q=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],r=d=>{let{absolute:e,children:b,classes:f,flexItem:g,light:h,orientation:a,textAlign:c,variant:i}=d;return(0,k.Z)({root:["root",e&&"absolute",i,h&&"light","vertical"===a&&"vertical",g&&"flexItem",b&&"withChildren",b&&"vertical"===a&&"withChildrenVertical","right"===c&&"vertical"!==a&&"textAlignRight","left"===c&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},o,f)},s=(0,b.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver(c,b){let{ownerState:a}=c;return[b.root,a.absolute&&b.absolute,b[a.variant],a.light&&b.light,"vertical"===a.orientation&&b.vertical,a.flexItem&&b.flexItem,a.children&&b.withChildren,a.children&&"vertical"===a.orientation&&b.withChildrenVertical,"right"===a.textAlign&&"vertical"!==a.orientation&&b.textAlignRight,"left"===a.textAlign&&"vertical"!==a.orientation&&b.textAlignLeft]}})(({theme:a,ownerState:b})=>(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(a.vars||a).palette.divider,borderBottomWidth:"thin"},b.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},b.light&&{borderColor:a.vars?`rgba(${a.vars.palette.dividerChannel} / 0.08)`:(0,l.Fq)(a.palette.divider,.08)},"inset"===b.variant&&{marginLeft:72},"middle"===b.variant&&"horizontal"===b.orientation&&{marginLeft:a.spacing(2),marginRight:a.spacing(2)},"middle"===b.variant&&"vertical"===b.orientation&&{marginTop:a.spacing(1),marginBottom:a.spacing(1)},"vertical"===b.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},b.flexItem&&{alignSelf:"stretch",height:"auto"}),({theme:a,ownerState:b})=>(0,i.Z)({},b.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${(a.vars||a).palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}}),({theme:a,ownerState:b})=>(0,i.Z)({},b.children&&"vertical"===b.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${(a.vars||a).palette.divider}`,transform:"translateX(0%)"}}),({ownerState:a})=>(0,i.Z)({},"right"===a.textAlign&&"vertical"!==a.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===a.textAlign&&"vertical"!==a.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),t=(0,b.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver(b,a){let{ownerState:c}=b;return[a.wrapper,"vertical"===c.orientation&&a.wrapperVertical]}})(({theme:a,ownerState:b})=>(0,i.Z)({display:"inline-block",paddingLeft:`calc(${a.spacing(1)} * 1.2)`,paddingRight:`calc(${a.spacing(1)} * 1.2)`},"vertical"===b.orientation&&{paddingTop:`calc(${a.spacing(1)} * 1.2)`,paddingBottom:`calc(${a.spacing(1)} * 1.2)`})),f=d.forwardRef(function(g,k){let a=(0,m.Z)({props:g,name:"MuiDivider"}),{absolute:l=!1,children:b,className:n,component:c=b?"div":"hr",flexItem:o=!1,light:u=!1,orientation:v="horizontal",role:e="hr"!==c?"separator":void 0,textAlign:w="center",variant:x="fullWidth"}=a,y=(0,h.Z)(a,q),d=(0,i.Z)({},a,{absolute:l,component:c,flexItem:o,light:u,orientation:v,role:e,textAlign:w,variant:x}),f=r(d);return(0,p.jsx)(s,(0,i.Z)({as:c,className:(0,j.Z)(f.root,n),role:e,ref:k,ownerState:d},y,{children:b?(0,p.jsx)(t,{className:f.wrapper,ownerState:d,children:b}):null}))});var u=f},9773:function(e,a,b){var c=b(7294);let d=c.createContext({});a.Z=d},9953:function(h,b,a){a.d(b,{Z:function(){return w}});var i=a(3366),j=a(7462),c=a(7294),k=a(6010),l=a(4780),m=a(5861),n=a(9773),o=a(1657),d=a(948),p=a(4867),e=a(1588);function q(a){return(0,p.Z)("MuiListItemText",a)}let f=(0,e.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var r=f,s=a(5893);let t=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],u=a=>{let{classes:b,inset:c,primary:d,secondary:e,dense:f}=a;return(0,l.Z)({root:["root",c&&"inset",f&&"dense",d&&e&&"multiline"],primary:["primary"],secondary:["secondary"]},q,b)},v=(0,d.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver(c,a){let{ownerState:b}=c;return[{[`& .${r.primary}`]:a.primary},{[`& .${r.secondary}`]:a.secondary},a.root,b.inset&&a.inset,b.primary&&b.secondary&&a.multiline,b.dense&&a.dense]}})(({ownerState:a})=>(0,j.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},a.primary&&a.secondary&&{marginTop:6,marginBottom:6},a.inset&&{paddingLeft:56})),g=c.forwardRef(function(p,q){let d=(0,o.Z)({props:p,name:"MuiListItemText"}),{children:r,className:w,disableTypography:e=!1,inset:x=!1,primary:g,primaryTypographyProps:y,secondary:z,secondaryTypographyProps:A}=d,B=(0,i.Z)(d,t),{dense:h}=c.useContext(n.Z),a=null!=g?g:r,b=z,l=(0,j.Z)({},d,{disableTypography:e,inset:x,primary:!!a,secondary:!!b,dense:h}),f=u(l);return null==a||a.type===m.Z||e||(a=(0,s.jsx)(m.Z,(0,j.Z)({variant:h?"body2":"body1",className:f.primary,component:"span",display:"block"},y,{children:a}))),null==b||b.type===m.Z||e||(b=(0,s.jsx)(m.Z,(0,j.Z)({variant:"body2",className:f.secondary,color:"text.secondary",display:"block"},A,{children:b}))),(0,s.jsxs)(v,(0,j.Z)({className:(0,k.Z)(f.root,w),ownerState:l,ref:q},B,{children:[a,b]}))});var w=g},6937:function(f,c,a){a.d(c,{D:function(){return e},u:function(){return d}});var g=a(5893),b=a(7294),h=a(1458),i=a(8456);function j(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function k(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){j(d,a,c[a])})}return d}function l(a,d){if(null==a)return{};var b,c,e=m(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}function m(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}var d=b.forwardRef(function(a,c){var d=a.sx,b=a.color,e=l(a,["sx","color"]);return(0,g.jsx)(h.Z,k({color:null!=b?b:"inherit",sx:k({m:1,height:5,borderRadius:5},d),ref:c},e))});d.displayName="LinearProgress";var e=b.forwardRef(function(a,c){var d=a.sx,b=a.color,e=l(a,["sx","color"]);return(0,g.jsx)(i.Z,k({color:null!=b?b:"inherit",sx:k({m:1},d),ref:c},e))});e.displayName="CircularProgress"},7115:function(e,b,a){a.r(b);var f=a(5893),c=a(7294),g=a(7314),h=a(8462),i=a(5861),j=a(2970),k=a(287),l=a(8473),m=a(4187),n=a(1567),o=a(6937);function p(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function q(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||r(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(a,c){if(a){if("string"==typeof a)return p(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return p(a,c)}}var d=c.forwardRef(function(b,p){var z,q=b.geolocation,r=b.homeTab,u=b.onChangeTab,a=(0,c.useContext)(j.Z),A=a.hotRoute,B=a.savedEtas,e=a.db,C=a.isRouteFilter,D=(0,c.useMemo)(function(){return(0,k.HD)(null!==(z=e.holidays)&& void 0!==z?z:[],new Date)},[e.holidays]),E=(0,c.useRef)(r),v=(0,n.$)().t,l=(0,c.useState)(null),d=l[0],F=l[1];(0,c.useImperativeHandle)(p,function(){return{changeTab:function(a){E.current=a}}}),(0,c.useEffect)(function(){var a,b;F(t({geolocation:q,hotRoute:A,savedEtas:B,routeList:null!==(a=e.routeList)&& void 0!==a?a:{},stopList:null!==(b=e.stopList)&& void 0!==b?b:{},isRouteFilter:C,isTodayHoliday:D}))},[q,e.routeList]);var w=(0,c.useMemo)(function(){return d?(0,f.jsx)(h.Z,{disablePadding:!0,children:d.both.split("|").map(function(a,b){return Boolean(a)&&(0,f.jsx)(m.Z,{routeId:a},"route-shortcut-".concat(b))})}):(0,f.jsx)(o.D,{sx:{my:10}})},[d]),x=(0,c.useMemo)(function(){if(null===d)return(0,f.jsx)(o.D,{sx:{my:10}});var a=d.saved.split("|").every(function(a){return!a});return(0,f.jsx)(c.Fragment,{children:a?(0,f.jsx)(i.Z,{sx:{marginTop:5},children:(0,f.jsx)("b",{children:v("\u672A\u6709\u6536\u85CF\u8DEF\u7DDA")})}):(0,f.jsx)(h.Z,{disablePadding:!0,children:d.saved.split("|").map(function(a,b){return Boolean(a)&&(0,f.jsx)(m.Z,{routeId:a},"route-shortcut-".concat(b))})})})},[d,v]),y=(0,c.useMemo)(function(){return d?(0,f.jsx)(h.Z,{disablePadding:!0,children:d.nearby.split("|").map(function(a,b){return Boolean(a)&&(0,f.jsx)(m.Z,{routeId:a},"route-shortcut-".concat(b))})}):(0,f.jsx)(o.D,{sx:{my:10}})},[d]);return(0,c.useMemo)(function(){return(0,f.jsxs)(g.ZP,{index:s.indexOf(E.current),onChangeIndex:function(a){u(s[a])},children:[w,x,y]})},[u,w,x,y])});b.default=d;var s=["both","saved","nearby"],t=function(a){var e=a.hotRoute,f=a.savedEtas,h=a.geolocation,g=a.stopList,i=a.routeList,j=a.isRouteFilter,m=a.isTodayHoliday,c=f.concat(Object.entries(e).filter(function(b){var a=q(b,2);return a[0],a[1]>5}).sort(function(a,b){return b[1]-a[1]}).map(function(a){return q(a,1)[0]})).filter(function(a,b,c){return c.indexOf(a)===b&&a.split("/")[0]in i}).map(function(a,c,d){var b=q(a.split("/"),2),e=b[0],f=b[1],j=g[Object.values(i[e].stops).sort(function(a,b){return b.length-a.length})[0][f]];return[a,(0,l.Sp)(h,j.location),d.length-c,]}),d=Object.entries(g).map(function(b){var a;return((function(a){if(Array.isArray(a))return p(a)})(a=b)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||r(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([(0,l.Sp)(b[1].location,h)])}).filter(function(a){return a[2]<1e3}).sort(function(a,b){return a[2]-b[2]}).slice(0,20).reduce(function(a,b){var d=q(b,1)[0],c=[];return Object.entries(i).forEach(function(b){var a=q(b,2),e=a[0],f=a[1];["kmb","nwfb","ctb","nlb"].forEach(function(a){f.stops[a]&&f.stops[a].includes(d)&&c.push(e+"/#"+f.stops[a].indexOf(d))})}),a.concat(c)},[]),b=function(a){return a.filter(function(a,b,c){return c.indexOf(a)===b}).filter(function(b){var a=q(b.split("/"),1)[0];return!j||(0,k.x4)(a,i[a].freq,m)}).concat(Array(40).fill("")).slice(0,40).join("|")};return{saved:b(c.sort(function(a,b){return a[2]-b[2]}).map(function(a){return a[0]}).slice(0,40)),nearby:b(d),both:b([].concat(c.sort(function(a,b){return a[1]-b[1]}).map(function(a){return a[0]}).slice(0,40)).concat(d))}}},287:function(c,a,b){function d(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function e(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||f(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(a,c){if(a){if("string"==typeof a)return d(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return d(a,c)}}b.d(a,{HD:function(){return j},x4:function(){return k}});var g={"266":[0,0,1,1,1,0,0],"271":[0,1,1,1,1,0,0],"272":[0,0,0,0,0,1,0],"287":[0,1,1,1,1,1,0],"288":[0,0,0,0,0,0,1],"319":[0,1,1,1,1,1,1],"320":[1,0,0,0,0,0,0],"415":[0,1,1,1,1,1,0],"416":[1,0,0,0,0,0,1],"447":[0,1,1,1,1,1,1],"448":[1,0,0,0,0,0,0],"480":[1,0,0,0,0,0,1],"511":[1,1,1,1,1,1,1],"31":[0,1,1,1,1,1,0],"63":[0,1,1,1,1,1,1],"111":[1,1,0,1,1,1,1]},h=function(b,a){return 1440*b+(60*parseInt(a.slice(0,2),10)+parseInt(a.slice(2),10))},i=function(b,c,a){if(b-60<=a&&a<=c+60)return!0;var d=10080;return b-60<=a+d&&a+d<=c+60},j=function(b,a){return b.includes("".concat(a.getFullYear()).concat(("0"+(a.getMonth()+1)).slice(-2)).concat(("0"+a.getDate()).slice(-2)))},k=function(f,b,c){if(!b)return!0;var d=!1,a=new Date,j=h(c?0:a.getDay(),("0"+a.getHours()).slice(-2)+("0"+a.getMinutes()).slice(-2));return Object.entries(b).forEach(function(b){var a=e(b,2),c=a[0],k=a[1];try{g[c].forEach(function(a,b){a&&Object.entries(k).forEach(function(g){var a=e(g,2),c=a[0],f=a[1],k=h(b,c),l=h(b,f?f[0]:c);d=d||i(k,l,j)})})}catch(l){console.log(f+" has unknown service ID")}}),d}}}])